# ุฑุงุตุฏ (Rased) - ูุธุงู ุฅุฏุงุฑุฉ ุณูู ุงูุทุงูุฉ

ููุตุฉ ุฑูููุฉ ุดุงููุฉ ูุฅุฏุงุฑุฉ ุงููููุฏุงุช ุงูููุฑุจุงุฆูุฉ ูุงููุดุบููู ูู ููุณุทูู. ูููุฑ ุงููุธุงู ุฅุฏุงุฑุฉ ูุงููุฉ ูุจูุงูุงุช ุงููุดุบูููุ ุงููููุฏุงุชุ ุงูุณุฌูุงุช ุงูุชุดุบูููุฉุ ุงูุตูุงูุฉุ ุงูุงูุชุซุงู ุงูุจูุฆูุ ูุงูุดูุงูู ูุงูููุชุฑุญุงุช.

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช

- [ุงููููุฒุงุช](#-ุงููููุฒุงุช)
- [ุงููุชุทูุจุงุช](#-ุงููุชุทูุจุงุช)
- [ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ](#-ุงูุชุซุจูุช-ูุงูุฅุนุฏุงุฏ)
- [ุจููุฉ ุงููุดุฑูุน](#-ุจููุฉ-ุงููุดุฑูุน)
- [ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช](#-ุงูุฃุฏูุงุฑ-ูุงูุตูุงุญูุงุช)
- [ูุงุนุฏุฉ ุงูุจูุงูุงุช](#-ูุงุนุฏุฉ-ุงูุจูุงูุงุช)
- [ุงูุชุทููุฑ](#-ุงูุชุทููุฑ)
- [ุงููุณุงููุฉ](#-ุงููุณุงููุฉ)

---

## โจ ุงููููุฒุงุช

### 1. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
- ูุธุงู ุฃุฏูุงุฑ ูุชูุฏู (SuperAdmin, Admin, CompanyOwner, Employee, Technician)
- ุฅุฏุงุฑุฉ ุตูุงุญูุงุช ุฏููุงููููุฉ ูุน ุดุฌุฑุฉ ุตูุงุญูุงุช ุชูุงุนููุฉ
- ุชุชุจุน ุชุบููุฑุงุช ุงูุตูุงุญูุงุช (Permission Audit Logs)
- ุตูุงุญูุงุช ูุจุงุดุฑุฉ ููุฑุชูุฒุฉ ุนูู ุงูุฃุฏูุงุฑ ูุฅููุงููุฉ ุฅูุบุงุก ุตูุงุญูุงุช

### 2. ุฅุฏุงุฑุฉ ุงููุดุบููู (Operators)
- ููู ุดุงูู ููู ูุดุบู (ุงููููุนุ ุงููุฏุฑุฉุ ุจูุงูุงุช ุงููุงููุ ุฅูุฎ)
- ุฑุจุท ุงููุดุบููู ุจุฃุตุญุงุจ ุงูุดุฑูุงุช (CompanyOwners)
- ุฅุฏุงุฑุฉ ุงูููุธููู ูุงูููููู ููู ูุดุบู
- ูุธุงู ุชุชุจุน ุฅููุงู ุงูููู ุงูุดุฎุตู

### 3. ุฅุฏุงุฑุฉ ุงููููุฏุงุช (Generators)
- ุจูุงูุงุช ูููุฉ ูุงููุฉ (ุงููุฏุฑุฉุ ุงูุฌูุฏุ ุงูุชุฑุฏุฏุ ููุน ุงููุญุฑู)
- ูุนูููุงุช ุงูุชุดุบูู ูุงููููุฏ
- ุงูุญุงูุฉ ุงููููุฉ ูุงูุชูุซูู (ุตูุฑ ููุญุงุช ุงูุจูุงูุงุช)
- ูุธุงู ุงูุชุญูู (ููุญุฉ ุงูุชุญููุ ุงูุญุงูุฉุ ุงูุตูุฑ)
- ุฅุฏุงุฑุฉ ุฎุฒุงูุงุช ุงููููุฏ ุงูุฎุงุฑุฌูุฉ

### 4. ุงูุณุฌูุงุช ูุงูุชูุงุฑูุฑ
- ุณุฌูุงุช ุงูุชุดุบูู (Operation Logs)
- ููุงุกุฉ ุงููููุฏ (Fuel Efficiency)
- ุณุฌูุงุช ุงูุตูุงูุฉ (Maintenance Records)
- ุงูุงูุชุซุงู ุงูุจูุฆู ูุงูุณูุงูุฉ (Compliance & Safety)

### 5. ูุธุงู ุงูุดูุงูู ูุงูููุชุฑุญุงุช
- ูุงุฌูุฉ ุนุงูุฉ ูุฅุฑุณุงู ุงูุดูุงูู ูุงูููุชุฑุญุงุช
- ูุธุงู ุชุชุจุน ุจุฑูุฒ ูุฑูุฏ
- ุฑุจุท ุงูุดูุงูู ุจุงููููุฏุงุช ูุงููุดุบููู

### 6. ูุธุงู ุงูุซูุงุจุช ุงูุฏููุงูููู
- ุฅุฏุงุฑุฉ ุซูุงุจุช ุงููุธุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฏุนู ุงููุญุงูุธุงุชุ ุฃููุงุน ุงููุญุฑูุงุชุ ุญุงูุงุช ุงููููุฏุงุชุ ุฅูุฎ
- ุณูููุฉ ุฅุถุงูุฉ ูุชุนุฏูู ุงูุซูุงุจุช

---

## ๐ฆ ุงููุชุทูุจุงุช

- **PHP**: ^8.2
- **Laravel**: ^12.0
- **MySQL/MariaDB**: 10.3 ุฃู ุฃุญุฏุซ
- **Node.js**: 18.x ุฃู ุฃุญุฏุซ
- **Composer**: 2.x
- **npm** ุฃู **yarn**

---

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน

```bash
git clone <repository-url>
cd rased
```

### 2. ุชุซุจูุช ุงููุชุทูุจุงุช

```bash
# ุชุซุจูุช dependencies ููู PHP
composer install

# ุชุซุจูุช dependencies ููู JavaScript
npm install
```

### 3. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ

```bash
# ูุณุฎ ููู ุงูุจูุฆุฉ
cp .env.example .env

# ุชูููุฏ ููุชุงุญ ุงูุชุทุจูู
php artisan key:generate
```

### 4. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูู ุจุชุนุฏูู ููู `.env` ูุฃุถู ุจูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=rased
DB_USERNAME=root
DB_PASSWORD=
```

ุซู ูู ุจุชุดุบูู migrations:

```bash
php artisan migrate
```

### 5. ููุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงูุจูุงูุงุช ุงูุฃูููุฉ

```bash
# ุชุดุบูู seeders
php artisan db:seed --class=ConstantSeeder
php artisan db:seed --class=RoleSeeder
php artisan db:seed --class=PermissionSeeder

# (ุงุฎุชูุงุฑู) ููุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ
php artisan db:seed --class=OperatorsWithDataSeeder
```

### 6. ุฅูุดุงุก ุฑุงุจุท ุงูุชุฎุฒูู

```bash
php artisan storage:link
```

### 7. ุชุดุบูู ุงููุดุฑูุน

#### ููุจูุฆุฉ ุงููุญููุฉ (Development):

```bash
# ุชุดุบูู ุงูุณูุฑูุฑ ู Vite ูุนุงู
npm run dev

# ุฃู ุจุดูู ูููุตู:
php artisan serve        # ุงูุณูุฑูุฑ ุนูู http://127.0.0.1:8000
npm run dev              # Vite ูู assets
```

#### ููุจูุฆุฉ ุงูุฅูุชุงุฌูุฉ (Production):

```bash
# ุจูุงุก assets
npm run build

# ุชุดุบูู ุงูุณูุฑูุฑ
php artisan serve
```

---

## ๐ ุจููุฉ ุงููุดุฑูุน

```
rased/
โโโ app/
โ   โโโ Governorate.php              # Enum ูููุญุงูุธุงุช
โ   โโโ Role.php                     # Enum ููุฃุฏูุงุฑ
โ   โโโ Helpers/
โ   โ   โโโ ConstantsHelper.php      # Helper ููุซูุงุจุช
โ   โ   โโโ GeneralHelper.php        # Helper ุนุงู (ุงููุดุบููู ุญุณุจ ุงููุญุงูุธุฉ)
โ   โโโ Http/
โ   โ   โโโ Controllers/
โ   โ   โ   โโโ Admin/              # Controllers ููุญุฉ ุงูุชุญูู
โ   โ   โ   โโโ ComplaintSuggestionController.php
โ   โ   โโโ Middleware/
โ   โ   โ   โโโ AdminMiddleware.php  # Middleware ููุชุญูู ูู ุตูุงุญูุงุช Admin
โ   โ   โโโ Requests/               # Form Requests ููุชุญูู ูู ุงูุจูุงูุงุช
โ   โโโ Mail/
โ   โ   โโโ OperatorCredentialsMail.php
โ   โโโ Models/                      # Eloquent Models
โ   โโโ Policies/                    # Authorization Policies
โโโ database/
โ   โโโ migrations/                  # Database Migrations
โ   โโโ seeders/                     # Database Seeders
โโโ public/
โ   โโโ assets/
โ       โโโ admin/                   # Assets ุฎุงุตุฉ ุจููุญุฉ ุงูุชุญูู
โ           โโโ css/
โ           โโโ js/
โ           โ   โโโ general-helpers.js  # Helper functions JavaScript
โ           โ   โโโ permissions.js      # ููุทู ุตูุญุฉ ุงูุตูุงุญูุงุช
โ           โ   โโโ generators.js       # ููุทู ุตูุญุฉ ุงููููุฏุงุช
โ           โโโ images/
โโโ resources/
โ   โโโ views/
โ   โ   โโโ admin/                  # Views ููุญุฉ ุงูุชุญูู
โ   โ   โโโ auth/                   # Views ุงููุตุงุฏูุฉ
โ   โ   โโโ complaints-suggestions/ # Views ุงูุดูุงูู ูุงูููุชุฑุญุงุช
โ   โโโ css/
โ   โโโ js/
โโโ routes/
    โโโ admin.php                   # Routes ููุญุฉ ุงูุชุญูู
    โโโ web.php                     # Routes ุงูุนุงูุฉ
```

---

## ๐ฅ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

### ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ:

1. **SuperAdmin** (ูุฏูุฑ ุงููุธุงู)
   - ูุตูู ูุงูู ูุฌููุน ุงููุธุงุฆู
   - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ
   - ุฅุฏุงุฑุฉ ุงูุซูุงุจุช

2. **Admin** (ูุฏูุฑ)
   - ุฅุฏุงุฑุฉ ุงููุดุบููู ูุงููููุฏุงุช
   - ุนุฑุถ ุงูุชูุงุฑูุฑ

3. **CompanyOwner** (ุตุงุญุจ ุดุฑูุฉ)
   - ุฅุฏุงุฑุฉ ูุดุบูู ุงูุฎุงุต
   - ุฅุฏุงุฑุฉ ููุธููู ูููููู
   - ุฅุฏุงุฑุฉ ูููุฏุงุชู
   - ุฅุฏุงุฑุฉ ุตูุงุญูุงุช ููุธููู

4. **Employee** (ููุธู)
   - ุนุฑุถ ุงูุจูุงูุงุช ุญุณุจ ุงูุตูุงุญูุงุช ุงูููููุญุฉ
   - ุฅุฏุฎุงู ุณุฌูุงุช ุงูุชุดุบูู

5. **Technician** (ููู)
   - ุนุฑุถ ูุฅุฏุฎุงู ุจูุงูุงุช ุงููููุฏุงุช
   - ุฅุฏุงุฑุฉ ุณุฌูุงุช ุงูุตูุงูุฉ

### ูุธุงู ุงูุตูุงุญูุงุช:

- **ุตูุงุญูุงุช ูุจุงุดุฑุฉ**: ูุชู ููุญูุง ูุจุงุดุฑุฉ ูููุณุชุฎุฏู
- **ุตูุงุญูุงุช ุฏูุฑ**: ูุชู ููุญูุง ุนุจุฑ ุงูุฏูุฑ
- **ุตูุงุญูุงุช ููุบุงุฉ**: ูููู ุฅูุบุงุก ุตูุงุญูุฉ ูุนููุฉ ุญุชู ูู ูุงูุช ูู ุงูุฏูุฑ

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:

- `users`: ุงููุณุชุฎุฏููู
- `operators`: ุงููุดุบููู
- `generators`: ุงููููุฏุงุช
- `fuel_tanks`: ุฎุฒุงูุงุช ุงููููุฏ
- `operation_logs`: ุณุฌูุงุช ุงูุชุดุบูู
- `fuel_efficiencies`: ููุงุกุฉ ุงููููุฏ
- `maintenance_records`: ุณุฌูุงุช ุงูุตูุงูุฉ
- `compliance_safeties`: ุงูุงูุชุซุงู ุงูุจูุฆู ูุงูุณูุงูุฉ
- `permissions`: ุงูุตูุงุญูุงุช
- `roles`: ุงูุฃุฏูุงุฑ
- `constant_masters`: ุงูุซูุงุจุช ุงูุฑุฆูุณูุฉ
- `constant_details`: ุชูุงุตูู ุงูุซูุงุจุช
- `complaints_suggestions`: ุงูุดูุงูู ูุงูููุชุฑุญุงุช

### ุงูุนูุงูุงุช:

- `User` โ `Operator` (owner: belongsTo)
- `User` โ `Operator` (many-to-many: employees/technicians)
- `Operator` โ `Generator` (hasMany)
- `Generator` โ `FuelTank` (hasMany)
- `Generator` โ `OperationLog` (hasMany)
- `Generator` โ `MaintenanceRecord` (hasMany)

---

## ๐ป ุงูุชุทููุฑ

### Helper Functions

#### PHP Helpers

**ConstantsHelper** - ุฅุฏุงุฑุฉ ุงูุซูุงุจุช:
```php
use App\Helpers\ConstantsHelper;

// ุงูุญุตูู ุนูู ุซุงุจุช ุจุงูุงุณู
$governorates = ConstantsHelper::getByName('ุงููุญุงูุธุฉ');

// ุงูุญุตูู ุนูู ุซุงุจุช ุจุงูุฑูู
$statuses = ConstantsHelper::get(3); // ุญุงูุฉ ุงููููุฏ
```

**GeneralHelper** - ูุธุงุฆู ุนุงูุฉ:
```php
use App\Helpers\GeneralHelper;

// ุงูุญุตูู ุนูู ุงููุดุบููู ุญุณุจ ุงููุญุงูุธุฉ
$operators = GeneralHelper::getOperatorsByGovernorate(10); // ูุญุงูุธุฉ ุบุฒุฉ
```

#### JavaScript Helpers

**GeneralHelpers** - ูุชุงุญ ูู ุฌููุน ุตูุญุงุช ุงูู admin:
```javascript
// ุฌูุจ ุงููุดุบููู ุญุณุจ ุงููุญุงูุธุฉ
GeneralHelpers.getOperatorsByGovernorate(10)
    .then(operators => console.log(operators));

// ููุก select ุจุงููุดุบููู
GeneralHelpers.fillOperatorsSelect(10, '#operator-select');

// ูุน jQuery
$('#operator-select').fillOperatorsByGovernorate(10);
```

### ุฅุถุงูุฉ ุซุงุจุช ุฌุฏูุฏ

1. ุฃุถู ุงูุจูุงูุงุช ูู `database/seeders/ConstantSeeder.php`:
```php
$newConstant = ConstantMaster::create([
    'constant_number' => 20,
    'constant_name' => 'ุงุณู ุงูุซุงุจุช',
    'description' => 'ูุตู ุงูุซุงุจุช',
    'is_active' => true,
    'order' => 20,
]);

$details = [
    ['label' => 'ุงูุฎูุงุฑ 1', 'code' => 'OPTION1', 'value' => 'value1', 'order' => 1],
    // ...
];

foreach ($details as $detail) {
    ConstantDetail::create([
        'constant_master_id' => $newConstant->id,
        // ...
    ]);
}
```

2. ุดุบูู ุงูู seeder:
```bash
php artisan db:seed --class=ConstantSeeder
```

### ุฅุถุงูุฉ ุตูุญุฉ ุฌุฏูุฏุฉ

1. ุฃูุดุฆ Controller ูู `app/Http/Controllers/Admin/`
2. ุฃูุดุฆ Policy ูู `app/Policies/` ุฅุฐุง ูุฒู ุงูุฃูุฑ
3. ุฃุถู routes ูู `routes/admin.php`
4. ุฃูุดุฆ views ูู `resources/views/admin/`
5. ุฃุถู CSS/JS ุฅุฐุง ูุฒู ุงูุฃูุฑ

### Testing

```bash
# ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
php artisan test

# ุชุดุบูู ุงุฎุชุจุงุฑ ูุญุฏุฏ
php artisan test --filter TestName
```

---

## ๐ ุงูููุงุญุธุงุช ุงููููุฉ ูููุทูุฑูู

### 1. ูุธุงู ุงูุตูุงุญูุงุช

- **ุฏุงุฆูุงู ุงุณุชุฎุฏู Policies** ููุชุญูู ูู ุงูุตูุงุญูุงุช ูู Controllers
- ุงุณุชุฎุฏู `@can` directive ูู Blade templates
- ุชุฃูุฏ ูู ุฃู CompanyOwner ููููู ููุท ุงููุตูู ูููุธููู ููููุฏุงุชู

### 2. RTL (Right-to-Left)

- ุงููุดุฑูุน ูุณุชุฎุฏู RTL layout
- ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู Bootstrap RTL
- ูู CSSุ ุงุณุชุฎุฏู `direction: rtl`

### 3. ุงูุซูุงุจุช

- **ูุง ุชูุชุจ ููู hardcoded** ูู ุงูู code
- ุงุณุชุฎุฏู `ConstantsHelper` ุฏุงุฆูุงู ูุฌูุจ ุงูููู
- ุฃุถู ุงูุซูุงุจุช ุงูุฌุฏูุฏุฉ ูู ุงูู seeder

### 4. AJAX Requests

- ุงุณุชุฎุฏู jQuery AJAX ุฃู Fetch API
- ุงุณุชุฎุฏู `showToast` ูุนุฑุถ ุงูุฑุณุงุฆู (ูู `toast.blade.php`)
- ุชุฃูุฏ ูู ุฅุฑุฌุงุน JSON responses ูู AJAX endpoints

### 5. Form Validation

- ุงุณุชุฎุฏู Form Requests (`app/Http/Requests/`)
- ุฃุถู ุฑุณุงุฆู ุฎุทุฃ ุนุฑุจูุฉ ูุงุถุญุฉ
- ุงุณุชุฎุฏู `old()` ูู views ููุงุญุชูุงุธ ุจุงูููู ุนูุฏ ุงูุฃุฎุทุงุก

### 6. ุงูุนูุงูุงุช

- ุงุณุชุฎุฏู Eager Loading ูุชุฌูุจ N+1 queries
- ูุซุงู: `Generator::with('operator', 'fuelTanks')->get()`

### 7. ุงูุตูุฑ ูุงููููุงุช

- ุงูุตูุฑ ุชูุญูุธ ูู `storage/app/public/`
- ุงุณุชุฎุฏู `php artisan storage:link` ูุฅูุดุงุก ุฑุงุจุท ุฑูุฒู
- ุงุณุชุฎุฏู `asset('storage/...')` ูู views

---

## ๐ง Troubleshooting

### ูุดููุฉ ูู ุงูุตูุงุญูุงุช

```bash
# ูุณุญ cache ุงูุตูุงุญูุงุช
php artisan cache:clear
php artisan config:clear
```

### ูุดููุฉ ูู ุงูุซูุงุจุช

```bash
# ูุณุญ cache ุงูุซูุงุจุช
php artisan tinker
>>> App\Helpers\ConstantsHelper::clearCache();
```

### ูุดููุฉ ูู Assets

```bash
# ุฅุนุงุฏุฉ ุจูุงุก assets
npm run build
php artisan optimize:clear
```

---

## ๐ ุงูููุงุฑุฏ ุงููููุฏุฉ

- [Laravel Documentation](https://laravel.com/docs)
- [Laravel 12 Release Notes](https://laravel.com/docs/releases)
- [Bootstrap RTL](https://getbootstrap.com/docs/5.3/getting-started/rtl/)

---

## ๐ค ุงููุณุงููุฉ

1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ branch ุฌุฏูุฏ (`git checkout -b feature/AmazingFeature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add some AmazingFeature'`)
4. Push ุฅูู Branch (`git push origin feature/AmazingFeature`)
5. ุงูุชุญ Pull Request

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช MIT License.

---

## ๐จโ๐ป ุงูุฏุนู

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงููุ ูุฑุฌู ูุชุญ issue ูู ุงููุดุฑูุน.

---

**ุชู ุงูุชุทููุฑ ุจู โค๏ธ ุจุงุณุชุฎุฏุงู Laravel 12**
